<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Text.Parser</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--guardedness</a> <a id="27" class="Symbol">#-}</a>

<a id="32" class="Keyword">open</a> <a id="37" class="Keyword">import</a> <a id="44" href="Level.html" class="Module">Level</a> <a id="50" class="Keyword">using</a> <a id="56" class="Symbol">(</a><a id="57" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="62" class="Symbol">)</a>

<a id="65" class="Keyword">module</a> <a id="72" href="Text.Parser.html" class="Module">Text.Parser</a> <a id="84" class="Symbol">(</a><a id="85" href="Text.Parser.html#85" class="Bound">l</a> <a id="87" class="Symbol">:</a> <a id="89" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="94" class="Symbol">)</a> <a id="96" class="Keyword">where</a>

<a id="103" class="Keyword">open</a> <a id="108" class="Keyword">import</a> <a id="115" href="Function.Identity.Categorical.html" class="Module">Function.Identity.Categorical</a> <a id="145" class="Keyword">using</a> <a id="151" class="Symbol">(</a><a id="152" href="Function.Identity.Categorical.html#451" class="Function">Identity</a><a id="160" class="Symbol">)</a>
<a id="162" class="Keyword">open</a> <a id="167" class="Keyword">import</a> <a id="174" href="Category.Monad.html" class="Module">Category.Monad</a>
<a id="189" class="Keyword">open</a> <a id="194" class="Keyword">import</a> <a id="201" href="Data.Char.Base.html" class="Module">Data.Char.Base</a> <a id="216" class="Keyword">using</a> <a id="222" class="Symbol">(</a><a id="223" href="Agda.Builtin.Char.html#227" class="Postulate">Char</a><a id="227" class="Symbol">)</a>
<a id="229" class="Keyword">open</a> <a id="234" class="Keyword">import</a> <a id="241" href="Data.Product.html" class="Module">Data.Product</a> <a id="254" class="Keyword">using</a> <a id="260" class="Symbol">(</a><a id="261" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a><a id="266" class="Symbol">)</a>
<a id="268" class="Keyword">open</a> <a id="273" class="Keyword">import</a> <a id="280" href="Level.Bounded.html" class="Module">Level.Bounded</a> <a id="294" class="Symbol">as</a> <a id="297" class="Module">Level≤</a> <a id="304" class="Keyword">using</a> <a id="310" class="Symbol">(</a><a id="311" href="Level.Bounded.html#867" class="Record">Set≤</a><a id="315" class="Symbol">;</a> <a id="317" href="Level.Bounded.html#931" class="Field">theSet</a><a id="323" class="Symbol">;</a> <a id="325" href="Level.Bounded.html#1072" class="Function Operator">[_]</a><a id="328" class="Symbol">;</a> <a id="330" href="Level.Bounded.html#3365" class="Function">lift</a><a id="334" class="Symbol">;</a> <a id="336" href="Level.Bounded.html#3586" class="Function">lower</a><a id="341" class="Symbol">)</a>
<a id="343" class="Keyword">open</a> <a id="348" class="Keyword">import</a> <a id="355" href="Relation.Unary.html" class="Module">Relation.Unary</a>

<a id="371" class="Keyword">open</a> <a id="376" class="Keyword">import</a> <a id="383" href="Text.Parser.Types.Core.html" class="Module">Text.Parser.Types.Core</a>
<a id="406" class="Keyword">open</a> <a id="411" class="Keyword">import</a> <a id="418" href="Text.Parser.Monad.html" class="Module">Text.Parser.Monad</a>
<a id="436" class="Keyword">open</a> <a id="441" class="Keyword">import</a> <a id="448" href="Text.Parser.Position.html" class="Module">Text.Parser.Position</a> <a id="469" class="Symbol">as</a> <a id="472" class="Module">Position</a> <a id="481" class="Keyword">using</a> <a id="487" class="Symbol">(</a><a id="488" href="Text.Parser.Position.html#380" class="Record">Position</a><a id="496" class="Symbol">;</a> <a id="498" class="Keyword">module</a> <a id="505" href="Text.Parser.Position.html#380" class="Module">Position</a><a id="513" class="Symbol">)</a> <a id="515" class="Keyword">public</a>

<a id="523" class="Keyword">module</a> <a id="CHARS"></a><a id="530" href="Text.Parser.html#530" class="Module">CHARS</a> <a id="536" class="Symbol">=</a> <a id="538" href="Text.Parser.Monad.html#3668" class="Module">Agdarsec</a> <a id="547" href="Text.Parser.html#85" class="Bound">l</a> <a id="549" href="Level.Bounded.html#1072" class="Function Operator">[</a> <a id="551" href="Text.Parser.Position.html#380" class="Record">Position</a> <a id="560" href="Level.Bounded.html#1072" class="Function Operator">]</a> <a id="562" href="Level.Bounded.html#1322" class="Function">Level≤.⊥</a> <a id="571" class="Symbol">(</a><a id="572" class="Keyword">record</a> <a id="579" class="Symbol">{</a> <a id="581" href="Data.Subset.html#173" class="Field">into</a> <a id="586" class="Symbol">=</a> <a id="588" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="594" class="Symbol">})</a>

<a id="598" class="Comment">-- Our sized text is represented using vectors of characters</a>

<a id="660" class="Keyword">private</a>
  <a id="ParserM"></a><a id="670" href="Text.Parser.html#670" class="Function">ParserM</a> <a id="678" class="Symbol">:</a> <a id="680" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="684" href="Text.Parser.html#85" class="Bound">l</a> <a id="686" class="Symbol">→</a> <a id="688" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="692" href="Text.Parser.html#85" class="Bound">l</a>
  <a id="696" href="Text.Parser.html#670" class="Function">ParserM</a> <a id="704" class="Symbol">=</a> <a id="706" href="Text.Parser.Monad.html#991" class="Function">AgdarsecT</a> <a id="716" href="Level.Bounded.html#1072" class="Function Operator">[</a> <a id="718" href="Text.Parser.Position.html#380" class="Record">Position</a> <a id="727" href="Level.Bounded.html#1072" class="Function Operator">]</a> <a id="729" href="Level.Bounded.html#1322" class="Function">Level≤.⊥</a> <a id="738" href="Function.Identity.Categorical.html#451" class="Function">Identity</a>

  <a id="P"></a><a id="750" href="Text.Parser.html#750" class="Function">P</a> <a id="752" class="Symbol">:</a> <a id="754" href="Text.Parser.Types.Core.html#393" class="Record">Parameters</a> <a id="765" href="Text.Parser.html#85" class="Bound">l</a>
  <a id="769" href="Text.Parser.html#750" class="Function">P</a> <a id="771" class="Symbol">=</a> <a id="773" href="Text.Parser.Monad.html#3588" class="Function">CHARS.chars</a>

<a id="786" class="Comment">-- We re-export all of the combinators someone may need, specialised to CHARS</a>

<a id="865" class="Keyword">open</a> <a id="870" href="Level.Bounded.html" class="Module">Level≤</a> <a id="877" class="Keyword">using</a> <a id="883" class="Symbol">(</a><a id="884" href="Level.Bounded.html#1072" class="Function Operator">[_]</a><a id="887" class="Symbol">)</a> <a id="889" class="Keyword">public</a>
<a id="896" class="Keyword">open</a> <a id="901" class="Keyword">import</a> <a id="908" href="Text.Parser.Types.html" class="Module">Text.Parser.Types</a>               <a id="940" href="Text.Parser.html#750" class="Function">P</a> <a id="942" class="Keyword">hiding</a> <a id="949" class="Symbol">(</a><a id="950" href="Text.Parser.Types.html#657" class="Field">runParser</a><a id="959" class="Symbol">)</a> <a id="961" class="Keyword">public</a>
<a id="968" class="Keyword">open</a> <a id="973" class="Keyword">import</a> <a id="980" href="Text.Parser.Combinators.html" class="Module">Text.Parser.Combinators</a>         <a id="1012" class="Symbol">{</a><a id="1013" class="Argument">P</a> <a id="1015" class="Symbol">=</a> <a id="1017" href="Text.Parser.html#750" class="Function">P</a><a id="1018" class="Symbol">}</a> <a id="1020" class="Keyword">public</a>
<a id="1027" class="Keyword">open</a> <a id="1032" class="Keyword">import</a> <a id="1039" href="Text.Parser.Combinators.Numbers.html" class="Module">Text.Parser.Combinators.Numbers</a> <a id="1071" class="Symbol">{</a><a id="1072" class="Argument">P</a> <a id="1074" class="Symbol">=</a> <a id="1076" href="Text.Parser.html#750" class="Function">P</a><a id="1077" class="Symbol">}</a> <a id="1079" class="Keyword">public</a>
<a id="1086" class="Keyword">open</a> <a id="1091" class="Keyword">import</a> <a id="1098" href="Text.Parser.Combinators.Char.html" class="Module">Text.Parser.Combinators.Char</a>    <a id="1130" class="Symbol">{</a><a id="1131" class="Argument">P</a> <a id="1133" class="Symbol">=</a> <a id="1135" href="Text.Parser.html#750" class="Function">P</a><a id="1136" class="Symbol">}</a> <a id="1138" class="Keyword">public</a>

<a id="1146" class="Comment">-- We export all of the instances that are needed for the combinators to work</a>
<a id="1224" class="Comment">-- out of the box</a>

<a id="1243" class="Keyword">open</a> <a id="1248" class="Keyword">import</a> <a id="1255" href="Data.List.Sized.Interface.html" class="Module">Data.List.Sized.Interface</a> <a id="1281" class="Keyword">using</a> <a id="1287" class="Symbol">(</a><a id="1288" href="Data.List.Sized.Interface.html#514" class="Function">vec</a><a id="1291" class="Symbol">)</a> <a id="1293" class="Keyword">public</a>
<a id="1300" class="Keyword">open</a> <a id="1305" class="Keyword">import</a> <a id="1312" href="Data.Subset.html" class="Module">Data.Subset</a> <a id="1324" class="Keyword">using</a> <a id="1330" class="Symbol">(</a><a id="1331" href="Data.Subset.html#528" class="Function">Subset-refl</a><a id="1342" class="Symbol">)</a> <a id="1344" class="Keyword">public</a>
<a id="1351" class="Keyword">open</a> <a id="1356" class="Keyword">import</a> <a id="1363" href="Relation.Binary.PropositionalEquality.Decidable.html" class="Module">Relation.Binary.PropositionalEquality.Decidable</a> <a id="1411" class="Keyword">using</a> <a id="1417" class="Symbol">(</a><a id="1418" href="Relation.Binary.PropositionalEquality.Decidable.html#269" class="Function">decide-char</a><a id="1429" class="Symbol">)</a> <a id="1431" class="Keyword">public</a>

<a id="1439" class="Keyword">instance</a>

  <a id="P-monad"></a><a id="1451" href="Text.Parser.html#1451" class="Function">P-monad</a> <a id="1459" class="Symbol">:</a> <a id="1461" href="Category.Monad.html#448" class="Function">RawMonad</a> <a id="1470" href="Text.Parser.html#670" class="Function">ParserM</a>
  <a id="1480" href="Text.Parser.html#1451" class="Function">P-monad</a>  <a id="1489" class="Symbol">=</a> <a id="1491" href="Text.Parser.Monad.html#3846" class="Function">CHARS.monad</a>

  <a id="P-monad0"></a><a id="1506" href="Text.Parser.html#1506" class="Function">P-monad0</a> <a id="1515" class="Symbol">:</a> <a id="1517" href="Category.Monad.html#643" class="Function">RawMonadZero</a> <a id="1530" href="Text.Parser.html#670" class="Function">ParserM</a>
  <a id="1540" href="Text.Parser.html#1506" class="Function">P-monad0</a> <a id="1549" class="Symbol">=</a> <a id="1551" href="Text.Parser.Monad.html#1895" class="Function">CHARS.monadZero</a>

  <a id="P-monad+"></a><a id="1570" href="Text.Parser.html#1570" class="Function">P-monad+</a> <a id="1579" class="Symbol">:</a> <a id="1581" href="Category.Monad.html#734" class="Function">RawMonadPlus</a> <a id="1594" href="Text.Parser.html#670" class="Function">ParserM</a>
  <a id="1604" href="Text.Parser.html#1570" class="Function">P-monad+</a> <a id="1613" class="Symbol">=</a> <a id="1615" href="Text.Parser.Monad.html#2281" class="Function">CHARS.monadPlus</a>

<a id="1632" class="Comment">-- Finally we define a function to run a parser and readily obtain a value</a>

<a id="1708" class="Keyword">open</a> <a id="1713" class="Keyword">import</a> <a id="1720" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="1735" class="Keyword">using</a> <a id="1741" class="Symbol">(</a><a id="1742" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a><a id="1755" class="Symbol">)</a>
<a id="1757" class="Keyword">open</a> <a id="1762" class="Keyword">import</a> <a id="1769" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="1784" class="Keyword">using</a> <a id="1790" class="Symbol">(</a><a id="1791" href="Data.List.Base.html#10383" class="InductiveConstructor">[]</a><a id="1793" class="Symbol">)</a>
<a id="1795" class="Keyword">open</a> <a id="1800" class="Keyword">import</a> <a id="1807" href="Data.Sum.Base.html" class="Module">Data.Sum.Base</a> <a id="1821" class="Keyword">using</a> <a id="1827" class="Symbol">(</a><a id="1828" href="Data.Sum.Base.html#734" class="Datatype Operator">_⊎_</a><a id="1831" class="Symbol">;</a> <a id="1833" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a><a id="1837" class="Symbol">;</a> <a id="1839" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a><a id="1843" class="Symbol">)</a>
<a id="1845" class="Keyword">open</a> <a id="1850" class="Keyword">import</a> <a id="1857" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="1871" class="Keyword">using</a> <a id="1877" class="Symbol">(</a><a id="1878" href="Data.Nat.Base.html#1127" class="Primitive Operator">_≡ᵇ_</a><a id="1882" class="Symbol">)</a>
<a id="1884" class="Keyword">import</a> <a id="1891" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="1911" class="Symbol">as</a> <a id="1914" class="Module">ℕₚ</a>
<a id="1917" class="Keyword">open</a> <a id="1922" class="Keyword">import</a> <a id="1929" href="Data.Product.html" class="Module">Data.Product</a> <a id="1942" class="Keyword">using</a> <a id="1948" class="Symbol">(</a><a id="1949" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a><a id="1952" class="Symbol">)</a>
<a id="1954" class="Keyword">open</a> <a id="1959" class="Keyword">import</a> <a id="1966" href="Data.String.html" class="Module">Data.String</a> <a id="1978" class="Symbol">as</a> <a id="1981" class="Module">String</a> <a id="1988" class="Keyword">using</a> <a id="1994" class="Symbol">(</a><a id="1995" href="Agda.Builtin.String.html#336" class="Postulate">String</a><a id="2001" class="Symbol">)</a>
<a id="2003" class="Keyword">open</a> <a id="2008" class="Keyword">import</a> <a id="2015" href="Function.Base.html" class="Module">Function.Base</a> <a id="2029" class="Keyword">using</a> <a id="2035" class="Symbol">(</a><a id="2036" href="Function.Base.html#4121" class="Function Operator">case_of_</a><a id="2044" class="Symbol">)</a>

<a id="2047" class="Keyword">import</a> <a id="2054" href="Text.Parser.Monad.Result.html" class="Module">Text.Parser.Monad.Result</a> <a id="2079" class="Symbol">as</a> <a id="2082" class="Module">Result</a>
<a id="2089" class="Keyword">open</a> <a id="2094" class="Keyword">import</a> <a id="2101" href="Text.Parser.Position.html" class="Module">Text.Parser.Position</a> <a id="2122" class="Keyword">using</a> <a id="2128" class="Symbol">(</a><a id="2129" href="Text.Parser.Position.html#479" class="Function">start</a><a id="2134" class="Symbol">)</a>

<a id="runParser"></a><a id="2137" href="Text.Parser.html#2137" class="Function">runParser</a> <a id="2147" class="Symbol">:</a> <a id="2149" class="Symbol">{</a><a id="2150" href="Text.Parser.html#2150" class="Bound">A</a> <a id="2152" class="Symbol">:</a> <a id="2154" href="Level.Bounded.html#867" class="Record">Set≤</a> <a id="2159" href="Text.Parser.html#85" class="Bound">l</a><a id="2160" class="Symbol">}</a> <a id="2162" class="Symbol">→</a> <a id="2164" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="2167" href="Text.Parser.Types.html#564" class="Record">Parser</a> <a id="2174" href="Text.Parser.html#2150" class="Bound">A</a> <a id="2176" href="Relation.Unary.html#3359" class="Function">]</a> <a id="2178" class="Symbol">→</a> <a id="2180" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="2187" class="Symbol">→</a> <a id="2189" href="Text.Parser.Position.html#380" class="Record">Position</a> <a id="2198" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="2200" href="Level.Bounded.html#931" class="Field">theSet</a> <a id="2207" href="Text.Parser.html#2150" class="Bound">A</a>
<a id="2209" href="Text.Parser.html#2137" class="Function">runParser</a> <a id="2219" href="Text.Parser.html#2219" class="Bound">p</a> <a id="2221" href="Text.Parser.html#2221" class="Bound">str</a> <a id="2225" class="Symbol">=</a>
  <a id="2229" class="Keyword">let</a> <a id="2233" href="Text.Parser.html#2233" class="Bound">init</a>  <a id="2239" class="Symbol">=</a> <a id="2241" href="Level.Bounded.html#3365" class="Function">lift</a> <a id="2246" class="Symbol">(</a><a id="2247" href="Text.Parser.Position.html#479" class="Function">start</a> <a id="2253" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2255" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2257" class="Symbol">)</a>
      <a id="2265" href="Text.Parser.html#2265" class="Bound">input</a> <a id="2271" class="Symbol">=</a> <a id="2273" href="Level.Bounded.html#3365" class="Function">lift</a> <a id="2278" class="Symbol">(</a><a id="2279" href="Data.String.html#1523" class="Function">String.toVec</a> <a id="2292" href="Text.Parser.html#2221" class="Bound">str</a><a id="2295" class="Symbol">)</a>
  <a id="2299" class="Keyword">in</a> <a id="2302" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="2307" href="Text.Parser.Monad.Result.html#736" class="Function">Result.toSum</a> <a id="2320" class="Symbol">(</a><a id="2321" href="Text.Parser.Types.html#657" class="Field">Parser.runParser</a> <a id="2338" href="Text.Parser.html#2219" class="Bound">p</a> <a id="2340" class="Symbol">(</a><a id="2341" href="Data.Nat.Properties.html#7279" class="Function">ℕₚ.n≤1+n</a> <a id="2350" class="Symbol">_)</a> <a id="2353" href="Text.Parser.html#2265" class="Bound">input</a> <a id="2359" href="Text.Parser.html#2233" class="Bound">init</a><a id="2363" class="Symbol">)</a> <a id="2365" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="2368" class="Symbol">λ</a> <a id="2370" class="Keyword">where</a>
        <a id="2384" class="Symbol">(</a><a id="2385" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="2390" class="Symbol">(</a><a id="2391" href="Text.Parser.html#2391" class="Bound">res</a> <a id="2395" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2397" href="Text.Parser.html#2397" class="Bound">p</a><a id="2398" class="Symbol">))</a> <a id="2401" class="Symbol">→</a> <a id="2403" class="Keyword">let</a> <a id="2407" class="Keyword">open</a> <a id="2412" href="Text.Parser.Types.Core.html#942" class="Module">Success</a> <a id="2420" class="Keyword">in</a>
                           <a id="2450" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="2453" href="Text.Parser.Types.Core.html#1065" class="Field">size</a> <a id="2458" href="Text.Parser.html#2391" class="Bound">res</a> <a id="2462" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="2465" class="Number">0</a>
                           <a id="2494" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="2499" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="2504" class="Symbol">(</a><a id="2505" href="Level.Bounded.html#3586" class="Function">lower</a> <a id="2511" class="Symbol">(</a><a id="2512" href="Text.Parser.Types.Core.html#1041" class="Field">value</a> <a id="2518" href="Text.Parser.html#2391" class="Bound">res</a><a id="2521" class="Symbol">))</a>
                           <a id="2551" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="2556" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="2561" class="Symbol">(</a><a id="2562" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="2568" class="Symbol">(</a><a id="2569" href="Level.Bounded.html#3586" class="Function">lower</a> <a id="2575" href="Text.Parser.html#2397" class="Bound">p</a><a id="2576" class="Symbol">))</a>
        <a id="2587" class="Symbol">(</a><a id="2588" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="2593" href="Text.Parser.html#2593" class="Bound">p</a><a id="2594" class="Symbol">)</a> <a id="2596" class="Symbol">→</a> <a id="2598" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="2603" class="Symbol">(</a><a id="2604" href="Level.Bounded.html#3586" class="Function">lower</a> <a id="2610" href="Text.Parser.html#2593" class="Bound">p</a><a id="2611" class="Symbol">)</a>

<a id="2614" class="Keyword">open</a> <a id="2619" class="Keyword">import</a> <a id="2626" href="IO.html" class="Module">IO</a>
<a id="2629" class="Keyword">open</a> <a id="2634" class="Keyword">import</a> <a id="2641" href="System.Exit.html" class="Module">System.Exit</a>

<a id="runParserIO"></a><a id="2654" href="Text.Parser.html#2654" class="Function">runParserIO</a> <a id="2666" class="Symbol">:</a> <a id="2668" class="Symbol">{</a><a id="2669" href="Text.Parser.html#2669" class="Bound">A</a> <a id="2671" class="Symbol">:</a> <a id="2673" href="Level.Bounded.html#867" class="Record">Set≤</a> <a id="2678" href="Text.Parser.html#85" class="Bound">l</a><a id="2679" class="Symbol">}</a> <a id="2681" class="Symbol">→</a> <a id="2683" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="2686" href="Text.Parser.Types.html#564" class="Record">Parser</a> <a id="2693" href="Text.Parser.html#2669" class="Bound">A</a> <a id="2695" href="Relation.Unary.html#3359" class="Function">]</a> <a id="2697" class="Symbol">→</a> <a id="2699" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="2706" class="Symbol">→</a> <a id="2708" href="IO.Base.html#917" class="Datatype">IO</a> <a id="2711" class="Symbol">(</a><a id="2712" href="Level.Bounded.html#931" class="Field">theSet</a> <a id="2719" href="Text.Parser.html#2669" class="Bound">A</a><a id="2720" class="Symbol">)</a>
<a id="2722" href="Text.Parser.html#2654" class="Function">runParserIO</a> <a id="2734" href="Text.Parser.html#2734" class="Bound">p</a> <a id="2736" href="Text.Parser.html#2736" class="Bound">str</a> <a id="2740" class="Symbol">=</a> <a id="2742" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="2747" href="Text.Parser.html#2137" class="Function">runParser</a> <a id="2757" href="Text.Parser.html#2734" class="Bound">p</a> <a id="2759" href="Text.Parser.html#2736" class="Bound">str</a> <a id="2763" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="2766" class="Symbol">λ</a> <a id="2768" class="Keyword">where</a>
  <a id="2776" class="Symbol">(</a><a id="2777" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="2782" href="Text.Parser.html#2782" class="Bound">pos</a><a id="2785" class="Symbol">)</a> <a id="2787" class="Symbol">→</a> <a id="2789" href="System.Exit.html#1043" class="Function">die</a> <a id="2793" class="Symbol">(</a><a id="2794" class="String">&quot;Parse error at position: &quot;</a> <a id="2822" href="Data.String.Base.html#2366" class="Function Operator">String.++</a> <a id="2832" href="Text.Parser.Position.html#780" class="Function">Position.show</a> <a id="2846" href="Text.Parser.html#2782" class="Bound">pos</a><a id="2849" class="Symbol">)</a>
  <a id="2853" class="Symbol">(</a><a id="2854" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="2859" href="Text.Parser.html#2859" class="Bound">val</a><a id="2862" class="Symbol">)</a> <a id="2864" class="Symbol">→</a> <a id="2866" href="IO.Base.html#1145" class="Function">pure</a> <a id="2871" href="Text.Parser.html#2859" class="Bound">val</a>
</pre></body></html>