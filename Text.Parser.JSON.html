<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Text.Parser.JSON</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-- Parser based on RFC 8259: https://tools.ietf.org/html/rfc8259</a>

<a id="67" class="Symbol">{-#</a> <a id="71" class="Keyword">OPTIONS</a> <a id="79" class="Pragma">--without-K</a> <a id="91" class="Pragma">--safe</a> <a id="98" class="Symbol">#-}</a>

<a id="103" class="Keyword">open</a> <a id="108" class="Keyword">import</a> <a id="115" href="Text.Parser.Types.Core.html" class="Module">Text.Parser.Types.Core</a> <a id="138" class="Keyword">using</a> <a id="144" class="Symbol">(</a><a id="145" href="Text.Parser.Types.Core.html#393" class="Record">Parameters</a><a id="155" class="Symbol">)</a>

<a id="158" class="Keyword">module</a> <a id="165" href="Text.Parser.JSON.html" class="Module">Text.Parser.JSON</a> <a id="182" class="Symbol">{</a><a id="183" href="Text.Parser.JSON.html#183" class="Bound">l</a><a id="184" class="Symbol">}</a> <a id="186" class="Symbol">{</a><a id="187" href="Text.Parser.JSON.html#187" class="Bound">P</a> <a id="189" class="Symbol">:</a> <a id="191" href="Text.Parser.Types.Core.html#393" class="Record">Parameters</a> <a id="202" href="Text.Parser.JSON.html#183" class="Bound">l</a><a id="203" class="Symbol">}</a> <a id="205" class="Keyword">where</a>

<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Category.Monad.html" class="Module">Category.Monad</a> <a id="239" class="Keyword">using</a> <a id="245" class="Symbol">(</a><a id="246" href="Category.Monad.html#734" class="Function">RawMonadPlus</a><a id="258" class="Symbol">)</a>

<a id="261" class="Keyword">open</a> <a id="266" class="Keyword">import</a> <a id="273" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="288" class="Keyword">using</a> <a id="294" class="Symbol">(</a><a id="295" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a><a id="299" class="Symbol">;</a> <a id="301" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="305" class="Symbol">;</a> <a id="307" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a><a id="312" class="Symbol">)</a>
<a id="314" class="Keyword">open</a> <a id="319" class="Keyword">import</a> <a id="326" href="Data.Char.Base.html" class="Module">Data.Char.Base</a> <a id="341" class="Keyword">using</a> <a id="347" class="Symbol">(</a><a id="348" href="Agda.Builtin.Char.html#227" class="Postulate">Char</a><a id="352" class="Symbol">)</a>
<a id="354" class="Keyword">open</a> <a id="359" class="Keyword">import</a> <a id="366" href="Data.Float.Base.html" class="Module">Data.Float.Base</a> <a id="382" class="Keyword">using</a> <a id="388" class="Symbol">(</a><a id="389" href="Agda.Builtin.Float.html#354" class="Postulate">Float</a><a id="394" class="Symbol">)</a>
<a id="396" class="Keyword">open</a> <a id="401" class="Keyword">import</a> <a id="408" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="423" class="Keyword">using</a> <a id="429" class="Symbol">(</a><a id="430" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="434" class="Symbol">;</a> <a id="436" href="Data.List.Base.html#10383" class="InductiveConstructor">[]</a><a id="438" class="Symbol">;</a> <a id="440" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_‚à∑_</a><a id="443" class="Symbol">)</a>
<a id="445" class="Keyword">import</a> <a id="452" href="Data.List.NonEmpty.html" class="Module">Data.List.NonEmpty</a> <a id="471" class="Symbol">as</a> <a id="474" class="Module">List‚Å∫</a>
<a id="480" class="Keyword">open</a> <a id="485" class="Keyword">import</a> <a id="492" href="Data.List.Sized.Interface.html" class="Module">Data.List.Sized.Interface</a>
<a id="518" class="Keyword">open</a> <a id="523" class="Keyword">import</a> <a id="530" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="546" class="Keyword">using</a> <a id="552" class="Symbol">(</a><a id="553" href="Data.Maybe.Base.html#1554" class="Function">maybe‚Ä≤</a><a id="559" class="Symbol">)</a>
<a id="561" class="Keyword">open</a> <a id="566" class="Keyword">import</a> <a id="573" href="Data.Product.html" class="Module">Data.Product</a> <a id="586" class="Keyword">using</a> <a id="592" class="Symbol">(</a><a id="593" href="Data.Product.html#1167" class="Function Operator">_√ó_</a><a id="596" class="Symbol">;</a> <a id="598" href="Data.Product.html#3422" class="Function">uncurry</a><a id="605" class="Symbol">)</a>
<a id="607" class="Keyword">open</a> <a id="612" class="Keyword">import</a> <a id="619" href="Data.String.Base.html" class="Module">Data.String.Base</a> <a id="636" class="Keyword">using</a> <a id="642" class="Symbol">(</a><a id="643" href="Agda.Builtin.String.html#336" class="Postulate">String</a><a id="649" class="Symbol">)</a>
<a id="651" class="Keyword">open</a> <a id="656" class="Keyword">import</a> <a id="663" href="Data.Subset.html" class="Module">Data.Subset</a> <a id="675" class="Keyword">using</a> <a id="681" class="Symbol">(</a><a id="682" href="Data.Subset.html#108" class="Record">Subset</a><a id="688" class="Symbol">;</a> <a id="690" href="Data.Subset.html#173" class="Field">into</a><a id="694" class="Symbol">)</a>
<a id="696" class="Keyword">open</a> <a id="701" class="Keyword">import</a> <a id="708" href="Data.Unit.Base.html" class="Module">Data.Unit.Base</a> <a id="723" class="Keyword">using</a> <a id="729" class="Symbol">(</a><a id="730" href="Agda.Builtin.Unit.html#164" class="Record">‚ä§</a><a id="731" class="Symbol">)</a>

<a id="734" class="Keyword">open</a> <a id="739" class="Keyword">import</a> <a id="746" href="Induction.Nat.Strong.html" class="Module">Induction.Nat.Strong</a> <a id="767" class="Symbol">as</a> <a id="770" class="Module">Box</a> <a id="774" class="Keyword">using</a> <a id="780" class="Symbol">(</a><a id="781" href="Induction.Nat.Strong.html#197" class="Record Operator">‚ñ°_</a><a id="783" class="Symbol">;</a> <a id="785" href="Induction.Nat.Strong.html#1188" class="Function">fix</a><a id="788" class="Symbol">)</a>

<a id="791" class="Keyword">open</a> <a id="796" class="Keyword">import</a> <a id="803" href="Function.Base.html" class="Module">Function.Base</a> <a id="817" class="Keyword">using</a> <a id="823" class="Symbol">(</a><a id="824" href="Function.Base.html#1919" class="Function Operator">_$_</a><a id="827" class="Symbol">;</a> <a id="829" href="Function.Base.html#3706" class="Function Operator">_‚àò‚Ä≤_</a><a id="833" class="Symbol">)</a>

<a id="836" class="Keyword">open</a> <a id="841" class="Keyword">import</a> <a id="848" href="Relation.Unary.html" class="Module">Relation.Unary</a>
<a id="863" class="Keyword">open</a> <a id="868" class="Keyword">import</a> <a id="875" href="Relation.Binary.PropositionalEquality.Decidable.html" class="Module">Relation.Binary.PropositionalEquality.Decidable</a> <a id="923" class="Keyword">using</a> <a id="929" class="Symbol">(</a><a id="930" href="Relation.Binary.PropositionalEquality.Decidable.Core.html#222" class="Record">DecidableEquality</a><a id="947" class="Symbol">)</a>

<a id="950" class="Keyword">open</a> <a id="955" class="Keyword">import</a> <a id="962" href="Level.Bounded.html" class="Module">Level.Bounded</a> <a id="976" class="Keyword">using</a> <a id="982" class="Symbol">(</a><a id="983" href="Level.Bounded.html#931" class="Field">theSet</a><a id="989" class="Symbol">;</a> <a id="991" href="Level.Bounded.html#1191" class="Function Operator">[_]</a><a id="994" class="Symbol">)</a>
<a id="996" class="Keyword">open</a> <a id="1001" class="Keyword">import</a> <a id="1008" href="Text.Parser.Types.html" class="Module">Text.Parser.Types</a> <a id="1026" href="Text.Parser.JSON.html#187" class="Bound">P</a>
<a id="1028" class="Keyword">open</a> <a id="1033" class="Keyword">import</a> <a id="1040" href="Text.Parser.Combinators.html" class="Module">Text.Parser.Combinators</a> <a id="1064" class="Symbol">{</a><a id="1065" class="Argument">P</a> <a id="1067" class="Symbol">=</a> <a id="1069" href="Text.Parser.JSON.html#187" class="Bound">P</a><a id="1070" class="Symbol">}</a>
<a id="1072" class="Keyword">open</a> <a id="1077" class="Keyword">import</a> <a id="1084" href="Text.Parser.Combinators.Char.html" class="Module">Text.Parser.Combinators.Char</a> <a id="1113" class="Symbol">{</a><a id="1114" class="Argument">P</a> <a id="1116" class="Symbol">=</a> <a id="1118" href="Text.Parser.JSON.html#187" class="Bound">P</a><a id="1119" class="Symbol">}</a>
<a id="1121" class="Keyword">open</a> <a id="1126" class="Keyword">import</a> <a id="1133" href="Text.Parser.Combinators.Numbers.html" class="Module">Text.Parser.Combinators.Numbers</a> <a id="1165" class="Symbol">{</a><a id="1166" class="Argument">P</a> <a id="1168" class="Symbol">=</a> <a id="1170" href="Text.Parser.JSON.html#187" class="Bound">P</a><a id="1171" class="Symbol">}</a>
<a id="1173" class="Keyword">open</a> <a id="1178" href="Text.Parser.Types.Core.html#393" class="Module">Parameters</a> <a id="1189" href="Text.Parser.JSON.html#187" class="Bound">P</a>

<a id="1192" class="Keyword">open</a> <a id="1197" class="Keyword">import</a> <a id="1204" href="Data.JSON.html" class="Module">Data.JSON</a> <a id="1214" class="Symbol">as</a> <a id="1217" class="Module">JSON</a> <a id="1222" class="Keyword">using</a> <a id="1228" class="Symbol">(</a><a id="1229" href="Data.JSON.html#368" class="Datatype">JSON</a><a id="1233" class="Symbol">)</a>

<a id="1236" class="Keyword">module</a> <a id="1243" href="Text.Parser.JSON.html#1243" class="Module">_</a> <a id="1245" class="Symbol">{{</a><a id="1247" href="Text.Parser.JSON.html#1247" class="Bound">ùïÑ</a> <a id="1249" class="Symbol">:</a> <a id="1251" href="Category.Monad.html#734" class="Function">RawMonadPlus</a> <a id="1264" href="Text.Parser.Types.Core.html#595" class="Field">M</a><a id="1265" class="Symbol">}}</a>
         <a id="1277" class="Symbol">{{</a><a id="1279" href="Text.Parser.JSON.html#1279" class="Bound">ùïä</a> <a id="1281" class="Symbol">:</a> <a id="1283" href="Data.List.Sized.Interface.html#393" class="Record">Sized</a> <a id="1289" href="Text.Parser.Types.Core.html#489" class="Field">Tok</a> <a id="1293" href="Text.Parser.Types.Core.html#545" class="Field">Toks</a><a id="1297" class="Symbol">}}</a>
         <a id="1309" class="Symbol">{{</a><a id="1311" href="Text.Parser.JSON.html#1311" class="Bound">ùîª</a> <a id="1313" class="Symbol">:</a> <a id="1315" href="Relation.Binary.PropositionalEquality.Decidable.Core.html#222" class="Record">DecidableEquality</a> <a id="1333" class="Symbol">(</a><a id="1334" href="Level.Bounded.html#931" class="Field">theSet</a> <a id="1341" href="Text.Parser.Types.Core.html#489" class="Field">Tok</a><a id="1344" class="Symbol">)}}</a>
         <a id="1357" class="Symbol">{{</a><a id="1359" href="Text.Parser.JSON.html#1359" class="Bound">‚ÑÇ</a> <a id="1361" class="Symbol">:</a> <a id="1363" href="Data.Subset.html#108" class="Record">Subset</a> <a id="1370" href="Agda.Builtin.Char.html#227" class="Postulate">Char</a> <a id="1375" class="Symbol">(</a><a id="1376" href="Level.Bounded.html#931" class="Field">theSet</a> <a id="1383" href="Text.Parser.Types.Core.html#489" class="Field">Tok</a><a id="1386" class="Symbol">)}}</a>
         <a id="1399" class="Symbol">{{</a><a id="1401" href="Text.Parser.JSON.html#1401" class="Bound">‚ÑÇ‚Åª</a> <a id="1404" class="Symbol">:</a> <a id="1406" href="Data.Subset.html#108" class="Record">Subset</a> <a id="1413" class="Symbol">(</a><a id="1414" href="Level.Bounded.html#931" class="Field">theSet</a> <a id="1421" href="Text.Parser.Types.Core.html#489" class="Field">Tok</a><a id="1424" class="Symbol">)</a> <a id="1426" href="Agda.Builtin.Char.html#227" class="Postulate">Char</a><a id="1430" class="Symbol">}}</a>
         <a id="1442" class="Keyword">where</a>


<a id="1450" class="Comment">-- We assume that when we call a subparser all of the whitespace before</a>
<a id="1522" class="Comment">-- the potential token has been consumed already. So we should systematically</a>
<a id="1600" class="Comment">-- consume spaces after the tokens we have happily recognised.</a>

<a id="1664" class="Comment">-- Structural characters</a>

  <a id="1692" href="Text.Parser.JSON.html#1692" class="Function">structuralChar</a> <a id="1707" class="Symbol">:</a> <a id="1709" href="Agda.Builtin.Char.html#227" class="Postulate">Char</a> <a id="1714" class="Symbol">‚Üí</a> <a id="1716" href="Relation.Unary.html#3359" class="Function">‚àÄ[</a> <a id="1719" href="Text.Parser.Types.html#564" class="Record">Parser</a> <a id="1726" href="Level.Bounded.html#1191" class="Function Operator">[</a> <a id="1728" href="Agda.Builtin.Unit.html#164" class="Record">‚ä§</a> <a id="1730" href="Level.Bounded.html#1191" class="Function Operator">]</a> <a id="1732" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="1736" href="Text.Parser.JSON.html#1692" class="Function">structuralChar</a> <a id="1751" href="Text.Parser.JSON.html#1751" class="Bound">c</a> <a id="1753" class="Symbol">=</a> <a id="1755" class="Symbol">_</a> <a id="1757" href="Text.Parser.Combinators.html#4043" class="Function Operator">&lt;$</a> <a id="1760" class="Symbol">(</a><a id="1761" href="Text.Parser.Combinators.Char.html#1424" class="Function">char</a> <a id="1766" href="Text.Parser.JSON.html#1751" class="Bound">c</a>  <a id="1769" href="Text.Parser.Combinators.html#6910" class="Function Operator">&lt;&amp;?</a> <a id="1773" href="Text.Parser.Combinators.html#2372" class="Function">box</a> <a id="1777" href="Text.Parser.Combinators.Char.html#1817" class="Function">spaces</a><a id="1783" class="Symbol">)</a>

  <a id="1788" href="Text.Parser.JSON.html#1788" class="Function">beginArray</a>     <a id="1803" class="Symbol">=</a> <a id="1805" href="Text.Parser.JSON.html#1692" class="Function">structuralChar</a> <a id="1820" class="String">&#39;[&#39;</a>
  <a id="1826" href="Text.Parser.JSON.html#1826" class="Function">beginObject</a>    <a id="1841" class="Symbol">=</a> <a id="1843" href="Text.Parser.JSON.html#1692" class="Function">structuralChar</a> <a id="1858" class="String">&#39;{&#39;</a>
  <a id="1864" href="Text.Parser.JSON.html#1864" class="Function">endArray</a>       <a id="1879" class="Symbol">=</a> <a id="1881" href="Text.Parser.JSON.html#1692" class="Function">structuralChar</a> <a id="1896" class="String">&#39;]&#39;</a>
  <a id="1902" href="Text.Parser.JSON.html#1902" class="Function">endObject</a>      <a id="1917" class="Symbol">=</a> <a id="1919" href="Text.Parser.JSON.html#1692" class="Function">structuralChar</a> <a id="1934" class="String">&#39;}&#39;</a>
  <a id="1940" href="Text.Parser.JSON.html#1940" class="Function">nameSeparator</a>  <a id="1955" class="Symbol">=</a> <a id="1957" href="Text.Parser.JSON.html#1692" class="Function">structuralChar</a> <a id="1972" class="String">&#39;:&#39;</a>
  <a id="1978" href="Text.Parser.JSON.html#1978" class="Function">valueSeparator</a> <a id="1993" class="Symbol">=</a> <a id="1995" href="Text.Parser.JSON.html#1692" class="Function">structuralChar</a> <a id="2010" class="String">&#39;,&#39;</a>

<a id="2015" class="Comment">-- Subparser for members, provided a subparser for smaller JSON objects</a>
<a id="2087" class="Comment">-- According to the RFC:</a>
<a id="2112" class="Comment">-- member = string name-separator value</a>

  <a id="2155" href="Text.Parser.JSON.html#2155" class="Function">member</a> <a id="2162" class="Symbol">:</a> <a id="2164" href="Relation.Unary.html#3359" class="Function">‚àÄ[</a> <a id="2167" href="Induction.Nat.Strong.html#197" class="Record Operator">‚ñ°</a> <a id="2169" href="Text.Parser.Types.html#564" class="Record">Parser</a> <a id="2176" href="Level.Bounded.html#1191" class="Function Operator">[</a> <a id="2178" href="Data.JSON.html#368" class="Datatype">JSON</a> <a id="2183" href="Level.Bounded.html#1191" class="Function Operator">]</a> <a id="2185" href="Relation.Unary.html#4338" class="Function Operator">‚áí</a> <a id="2187" href="Text.Parser.Types.html#564" class="Record">Parser</a> <a id="2194" href="Level.Bounded.html#1191" class="Function Operator">[</a> <a id="2196" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="2203" href="Data.Product.html#1167" class="Function Operator">√ó</a> <a id="2205" href="Data.JSON.html#368" class="Datatype">JSON</a> <a id="2210" href="Level.Bounded.html#1191" class="Function Operator">]</a> <a id="2212" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="2216" href="Text.Parser.JSON.html#2155" class="Function">member</a> <a id="2223" href="Text.Parser.JSON.html#2223" class="Bound">rec</a> <a id="2227" class="Symbol">=</a> <a id="2229" href="Text.Parser.Combinators.Char.html#3158" class="Function">stringLiteral</a> <a id="2243" href="Text.Parser.Combinators.html#6910" class="Function Operator">&lt;&amp;?</a> <a id="2247" href="Text.Parser.Combinators.html#2372" class="Function">box</a> <a id="2251" href="Text.Parser.Combinators.Char.html#1817" class="Function">spaces</a>
             <a id="2271" href="Text.Parser.Combinators.html#5727" class="Function Operator">&lt;&amp;&gt;</a> <a id="2275" href="Text.Parser.Combinators.html#2372" class="Function">box</a> <a id="2279" class="Symbol">(</a><a id="2280" href="Text.Parser.JSON.html#1940" class="Function">nameSeparator</a> <a id="2294" href="Text.Parser.Combinators.html#5889" class="Function Operator">&amp;&gt;</a> <a id="2297" href="Text.Parser.JSON.html#2223" class="Bound">rec</a><a id="2300" class="Symbol">)</a>

<a id="2303" class="Comment">-- Subparser for JSON objects, provided a subparser for smaller JSON objects</a>
<a id="2380" class="Comment">-- According to the RFC:</a>
<a id="2405" class="Comment">-- object = begin-object [ member *( value-separator member ) ] end-object</a>

  <a id="2483" href="Text.Parser.JSON.html#2483" class="Function">object</a> <a id="2490" class="Symbol">:</a> <a id="2492" href="Relation.Unary.html#3359" class="Function">‚àÄ[</a> <a id="2495" href="Induction.Nat.Strong.html#197" class="Record Operator">‚ñ°</a> <a id="2497" href="Text.Parser.Types.html#564" class="Record">Parser</a> <a id="2504" href="Level.Bounded.html#1191" class="Function Operator">[</a> <a id="2506" href="Data.JSON.html#368" class="Datatype">JSON</a> <a id="2511" href="Level.Bounded.html#1191" class="Function Operator">]</a> <a id="2513" href="Relation.Unary.html#4338" class="Function Operator">‚áí</a> <a id="2515" href="Text.Parser.Types.html#564" class="Record">Parser</a> <a id="2522" href="Level.Bounded.html#1191" class="Function Operator">[</a> <a id="2524" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="2529" class="Symbol">(</a><a id="2530" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="2537" href="Data.Product.html#1167" class="Function Operator">√ó</a> <a id="2539" href="Data.JSON.html#368" class="Datatype">JSON</a><a id="2543" class="Symbol">)</a> <a id="2545" href="Level.Bounded.html#1191" class="Function Operator">]</a> <a id="2547" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="2551" href="Text.Parser.JSON.html#2483" class="Function">object</a> <a id="2558" href="Text.Parser.JSON.html#2558" class="Bound">rec</a> <a id="2562" class="Symbol">=</a>
    <a id="2568" href="Data.Maybe.Base.html#1554" class="Function">maybe‚Ä≤</a> <a id="2575" class="Symbol">(</a><a id="2576" href="Data.Product.html#3422" class="Function">uncurry</a> <a id="2584" class="Symbol">Œª</a> <a id="2586" href="Text.Parser.JSON.html#2586" class="Bound">a</a> <a id="2588" href="Text.Parser.JSON.html#2588" class="Bound">mas</a> <a id="2592" class="Symbol">‚Üí</a> <a id="2594" href="Text.Parser.JSON.html#2586" class="Bound">a</a> <a id="2596" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">‚à∑</a> <a id="2598" href="Data.Maybe.Base.html#1554" class="Function">maybe‚Ä≤</a> <a id="2605" href="Data.List.NonEmpty.Base.html#1521" class="Function">List‚Å∫.toList</a> <a id="2618" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="2621" href="Text.Parser.JSON.html#2588" class="Bound">mas</a><a id="2624" class="Symbol">)</a> <a id="2626" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
    <a id="2633" href="Text.Parser.Combinators.html#3914" class="Function Operator">&lt;$&gt;</a> <a id="2637" class="Symbol">(</a><a id="2638" href="Text.Parser.JSON.html#1826" class="Function">beginObject</a>
         <a id="2659" href="Text.Parser.Combinators.html#6992" class="Function Operator">&amp;?&gt;</a> <a id="2663" href="Text.Parser.Combinators.html#2372" class="Function">box</a> <a id="2667" class="Symbol">(</a><a id="2668" href="Text.Parser.JSON.html#2155" class="Function">member</a> <a id="2675" href="Text.Parser.JSON.html#2558" class="Bound">rec</a> <a id="2679" href="Text.Parser.Combinators.html#6818" class="Function Operator">&lt;&amp;?&gt;</a> <a id="2684" href="Text.Parser.Combinators.html#2372" class="Function">box</a> <a id="2688" class="Symbol">(</a><a id="2689" href="Text.Parser.Combinators.html#11109" class="Function">list‚Å∫</a> <a id="2695" class="Symbol">(</a><a id="2696" href="Text.Parser.JSON.html#1978" class="Function">valueSeparator</a> <a id="2711" href="Text.Parser.Combinators.html#5889" class="Function Operator">&amp;&gt;</a> <a id="2714" href="Text.Parser.Combinators.html#2372" class="Function">box</a> <a id="2718" class="Symbol">(</a><a id="2719" href="Text.Parser.JSON.html#2155" class="Function">member</a> <a id="2726" href="Text.Parser.JSON.html#2558" class="Bound">rec</a><a id="2729" class="Symbol">))))</a>
         <a id="2743" href="Text.Parser.Combinators.html#5810" class="Function Operator">&lt;&amp;</a> <a id="2746" href="Text.Parser.Combinators.html#2372" class="Function">box</a> <a id="2750" href="Text.Parser.JSON.html#1902" class="Function">endObject</a><a id="2759" class="Symbol">)</a>

<a id="2762" class="Comment">-- Subparser for JSON arrays, provided a subparser for smaller JSON objects</a>
<a id="2838" class="Comment">-- According to the RFC:</a>
<a id="2863" class="Comment">-- array = begin-array [ value *( value-separator value ) ] end-array</a>

  <a id="2936" href="Text.Parser.JSON.html#2936" class="Function">array</a> <a id="2942" class="Symbol">:</a> <a id="2944" href="Relation.Unary.html#3359" class="Function">‚àÄ[</a> <a id="2947" href="Induction.Nat.Strong.html#197" class="Record Operator">‚ñ°</a> <a id="2949" href="Text.Parser.Types.html#564" class="Record">Parser</a> <a id="2956" href="Level.Bounded.html#1191" class="Function Operator">[</a> <a id="2958" href="Data.JSON.html#368" class="Datatype">JSON</a> <a id="2963" href="Level.Bounded.html#1191" class="Function Operator">]</a> <a id="2965" href="Relation.Unary.html#4338" class="Function Operator">‚áí</a> <a id="2967" href="Text.Parser.Types.html#564" class="Record">Parser</a> <a id="2974" href="Level.Bounded.html#1191" class="Function Operator">[</a> <a id="2976" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="2981" href="Data.JSON.html#368" class="Datatype">JSON</a> <a id="2986" href="Level.Bounded.html#1191" class="Function Operator">]</a> <a id="2988" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="2992" href="Text.Parser.JSON.html#2936" class="Function">array</a> <a id="2998" href="Text.Parser.JSON.html#2998" class="Bound">rec</a> <a id="3002" class="Symbol">=</a>
    <a id="3008" href="Data.Maybe.Base.html#1554" class="Function">maybe‚Ä≤</a> <a id="3015" class="Symbol">(</a><a id="3016" href="Data.Product.html#3422" class="Function">uncurry</a> <a id="3024" class="Symbol">Œª</a> <a id="3026" href="Text.Parser.JSON.html#3026" class="Bound">a</a> <a id="3028" href="Text.Parser.JSON.html#3028" class="Bound">mas</a> <a id="3032" class="Symbol">‚Üí</a> <a id="3034" href="Text.Parser.JSON.html#3026" class="Bound">a</a> <a id="3036" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">‚à∑</a> <a id="3038" href="Data.Maybe.Base.html#1554" class="Function">maybe‚Ä≤</a> <a id="3045" href="Data.List.NonEmpty.Base.html#1521" class="Function">List‚Å∫.toList</a> <a id="3058" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="3061" href="Text.Parser.JSON.html#3028" class="Bound">mas</a><a id="3064" class="Symbol">)</a> <a id="3066" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
    <a id="3073" href="Text.Parser.Combinators.html#3914" class="Function Operator">&lt;$&gt;</a> <a id="3077" class="Symbol">(</a><a id="3078" href="Text.Parser.JSON.html#1788" class="Function">beginArray</a>
         <a id="3098" href="Text.Parser.Combinators.html#6992" class="Function Operator">&amp;?&gt;</a> <a id="3102" href="Text.Parser.Combinators.html#2785" class="Function">lift2l</a> <a id="3109" class="Symbol">(Œª</a> <a id="3112" href="Text.Parser.JSON.html#3112" class="Bound">p</a> <a id="3114" href="Text.Parser.JSON.html#3114" class="Bound">q</a> <a id="3116" class="Symbol">‚Üí</a> <a id="3118" href="Text.Parser.JSON.html#3112" class="Bound">p</a> <a id="3120" href="Text.Parser.Combinators.html#6818" class="Function Operator">&lt;&amp;?&gt;</a> <a id="3125" href="Text.Parser.Combinators.html#2372" class="Function">box</a> <a id="3129" href="Text.Parser.JSON.html#3114" class="Bound">q</a><a id="3130" class="Symbol">)</a> <a id="3132" href="Text.Parser.JSON.html#2998" class="Bound">rec</a> <a id="3136" class="Symbol">(</a><a id="3137" href="Text.Parser.Combinators.html#11109" class="Function">list‚Å∫</a> <a id="3143" class="Symbol">(</a><a id="3144" href="Text.Parser.JSON.html#1978" class="Function">valueSeparator</a> <a id="3159" href="Text.Parser.Combinators.html#5889" class="Function Operator">&amp;&gt;</a> <a id="3162" href="Text.Parser.JSON.html#2998" class="Bound">rec</a><a id="3165" class="Symbol">))</a>
         <a id="3177" href="Text.Parser.Combinators.html#5810" class="Function Operator">&lt;&amp;</a> <a id="3180" href="Text.Parser.Combinators.html#2372" class="Function">box</a> <a id="3184" href="Text.Parser.JSON.html#1864" class="Function">endArray</a><a id="3192" class="Symbol">)</a>

<a id="3195" class="Comment">-- Parsing JSON values</a>
  <a id="3220" href="Text.Parser.JSON.html#3220" class="Function">value</a> <a id="3226" class="Symbol">:</a> <a id="3228" href="Relation.Unary.html#3359" class="Function">‚àÄ[</a> <a id="3231" href="Text.Parser.Types.html#564" class="Record">Parser</a> <a id="3238" href="Level.Bounded.html#1191" class="Function Operator">[</a> <a id="3240" href="Data.JSON.html#368" class="Datatype">JSON</a> <a id="3245" href="Level.Bounded.html#1191" class="Function Operator">]</a> <a id="3247" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="3251" href="Text.Parser.JSON.html#3220" class="Function">value</a> <a id="3257" class="Symbol">=</a> <a id="3259" class="Symbol">(</a><a id="3260" href="Text.Parser.Combinators.Char.html#1817" class="Function">spaces</a> <a id="3267" href="Text.Parser.Combinators.html#7887" class="Function Operator">?&amp;&gt;_</a><a id="3271" class="Symbol">)</a> <a id="3273" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="3275" href="Induction.Nat.Strong.html#1188" class="Function">fix</a> <a id="3279" class="Symbol">(</a><a id="3280" href="Text.Parser.Types.html#564" class="Record">Parser</a> <a id="3287" href="Level.Bounded.html#1191" class="Function Operator">[</a> <a id="3289" href="Data.JSON.html#368" class="Datatype">JSON</a> <a id="3294" href="Level.Bounded.html#1191" class="Function Operator">]</a><a id="3295" class="Symbol">)</a> <a id="3297" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="3299" class="Symbol">Œª</a> <a id="3301" href="Text.Parser.JSON.html#3301" class="Bound">rec</a> <a id="3305" class="Symbol">‚Üí</a>
    <a id="3311" href="Text.Parser.Combinators.html#5998" class="Function">alts</a> <a id="3316" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="3318" class="Symbol">(</a><a id="3319" href="Data.JSON.html#387" class="InductiveConstructor">JSON.null</a>       <a id="3335" href="Text.Parser.Combinators.html#4043" class="Function Operator">&lt;$</a>  <a id="3339" href="Text.Parser.Combinators.Char.html#1874" class="Function">text</a> <a id="3344" class="String">&quot;null&quot;</a>   <a id="3353" href="Text.Parser.Combinators.html#6910" class="Function Operator">&lt;&amp;?</a> <a id="3357" href="Text.Parser.Combinators.html#2372" class="Function">box</a> <a id="3361" href="Text.Parser.Combinators.Char.html#1817" class="Function">spaces</a><a id="3367" class="Symbol">)</a>
         <a id="3378" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">‚à∑</a> <a id="3380" class="Symbol">(</a><a id="3381" href="Data.JSON.html#403" class="InductiveConstructor">JSON.bool</a> <a id="3391" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>  <a id="3397" href="Text.Parser.Combinators.html#4043" class="Function Operator">&lt;$</a>  <a id="3401" href="Text.Parser.Combinators.Char.html#1874" class="Function">text</a> <a id="3406" class="String">&quot;true&quot;</a>   <a id="3415" href="Text.Parser.Combinators.html#6910" class="Function Operator">&lt;&amp;?</a> <a id="3419" href="Text.Parser.Combinators.html#2372" class="Function">box</a> <a id="3423" href="Text.Parser.Combinators.Char.html#1817" class="Function">spaces</a><a id="3429" class="Symbol">)</a>
         <a id="3440" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">‚à∑</a> <a id="3442" class="Symbol">(</a><a id="3443" href="Data.JSON.html#403" class="InductiveConstructor">JSON.bool</a> <a id="3453" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a> <a id="3459" href="Text.Parser.Combinators.html#4043" class="Function Operator">&lt;$</a>  <a id="3463" href="Text.Parser.Combinators.Char.html#1874" class="Function">text</a> <a id="3468" class="String">&quot;false&quot;</a>  <a id="3477" href="Text.Parser.Combinators.html#6910" class="Function Operator">&lt;&amp;?</a> <a id="3481" href="Text.Parser.Combinators.html#2372" class="Function">box</a> <a id="3485" href="Text.Parser.Combinators.Char.html#1817" class="Function">spaces</a><a id="3491" class="Symbol">)</a>
         <a id="3502" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">‚à∑</a> <a id="3504" class="Symbol">(</a><a id="3505" href="Data.JSON.html#426" class="InductiveConstructor">JSON.number</a>     <a id="3521" href="Text.Parser.Combinators.html#3914" class="Function Operator">&lt;$&gt;</a> <a id="3525" href="Text.Parser.Combinators.Numbers.html#2341" class="Function">decimalFloat</a>  <a id="3539" href="Text.Parser.Combinators.html#6910" class="Function Operator">&lt;&amp;?</a> <a id="3543" href="Text.Parser.Combinators.html#2372" class="Function">box</a> <a id="3547" href="Text.Parser.Combinators.Char.html#1817" class="Function">spaces</a><a id="3553" class="Symbol">)</a>
         <a id="3564" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">‚à∑</a> <a id="3566" class="Symbol">(</a><a id="3567" href="Data.JSON.html#450" class="InductiveConstructor">JSON.string</a>     <a id="3583" href="Text.Parser.Combinators.html#3914" class="Function Operator">&lt;$&gt;</a> <a id="3587" href="Text.Parser.Combinators.Char.html#3158" class="Function">stringLiteral</a> <a id="3601" href="Text.Parser.Combinators.html#6910" class="Function Operator">&lt;&amp;?</a> <a id="3605" href="Text.Parser.Combinators.html#2372" class="Function">box</a> <a id="3609" href="Text.Parser.Combinators.Char.html#1817" class="Function">spaces</a><a id="3615" class="Symbol">)</a>
         <a id="3626" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">‚à∑</a> <a id="3628" class="Symbol">(</a><a id="3629" href="Data.JSON.html#475" class="InductiveConstructor">JSON.array</a>      <a id="3645" href="Text.Parser.Combinators.html#3914" class="Function Operator">&lt;$&gt;</a> <a id="3649" href="Text.Parser.JSON.html#2936" class="Function">array</a> <a id="3655" href="Text.Parser.JSON.html#3301" class="Bound">rec</a><a id="3658" class="Symbol">)</a>
         <a id="3669" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">‚à∑</a> <a id="3671" class="Symbol">(</a><a id="3672" href="Data.JSON.html#503" class="InductiveConstructor">JSON.object</a>     <a id="3688" href="Text.Parser.Combinators.html#3914" class="Function Operator">&lt;$&gt;</a> <a id="3692" href="Text.Parser.JSON.html#2483" class="Function">object</a> <a id="3699" href="Text.Parser.JSON.html#3301" class="Bound">rec</a><a id="3702" class="Symbol">)</a>
         <a id="3713" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">‚à∑</a> <a id="3715" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
</pre></body></html>